@using SilvaDawn.SilvaModel.UML.Extensions;
@using SilvaDawn.SilvaModel.UML.Interfaces.Classes;
@using SilvaDawn.SilvaModel.UML.Classes;
// ALLOWOVERWRITE
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.EntityFrameworkCore;
using @(Model.Diagram.Name).Database;

namespace @(Model.Diagram.Name).Database
{
    public partial class @Model.Diagram["Entity Framework Core","DBContextName"] : DbContext
    {
    
   
	// Delete if not required	
	 protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            //IConfigurationRoot configuration = new ConfigurationBuilder()
            //    .AddJsonFile("appsettings.json", optional: true)
            //    .Build();
            //var conn = configuration["ConnectionStrings:@(Model.Diagram.Name)Connection"];

            //optionsBuilder.UseSqlServer(conn);

           optionsBuilder.UseSqlServer(@@"Server=.;Database=@(Model.Diagram.Name);Trusted_Connection=True;MultipleActiveResultSets=true");
        }	


     }
 }